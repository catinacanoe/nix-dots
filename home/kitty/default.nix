{ config, inputs, pkgs, ... }:
with (import ../../rice);
{
    home.activation.kitty = inputs.home-manager.lib.hm.dag.entryAfter ["onFilesChange"]
        "$DRY_RUN_CMD kill $VERBOSE_ARG -SIGUSR1 $(${pkgs.procps}/bin/pgrep kitty)";

    programs.kitty = {
        enable = true;

	keybindings = {
	    "ctrl+shift+c" = "copy_to_clipboard";
	    "ctrl+shift+v" = "paste_from_clipboard";

	    "shift+up" = "scroll_line_up";
	    "shift+down" = "scroll_line_down";

	    "ctrl+shift+l" = "change_font_size all 0";
	    "ctrl+shift+tab" = "change_font_size all +2.0";
	    "ctrl+shift+u" = "change_font_size all -2.0";
	};

	settings = {
	    clear_all_shortcuts = true;
	    enable_audio_bell = false;
	    window_alert_on_bell = false;
	    confirm_os_window_close = 0;

	    font_size = font.size;
	    window_padding_width = "4.7";
	    scrollback_lines = 10000;
	    update_check_interval = 0;
	    mouse_hide_wait = 0;

	    font_family = font.full.family;
	    bold_font = font.full.bold;
	    italic_font = font.full.italic;
	    bold_italic_font = font.full.bold-italic;

	    touch_scroll_multiplier = "1.7";
	    wheel_scroll_multiplier = "5.0";

	    disable_ligatures = "cursor";
	    strip_trailing_spaces = "smart";
	    copy_on_select = "clipboard";

	    cursor = "#${col.fg}";
	    cursor_shape = "beam";
	    cursor_beam_thickness = "1.5";
	    cursor_stop_blinking_after = 0;
	    cursor_text_color = "#${col.fg}";

	    open_url_with = "${config.home.sessionVariables.BROWSER}";
	    url_color = "#${col.blue}";
	    url_style = "curly";
	    undercurl_style = "thick-sparse";
	    underline_hyperlinks = "always";

	    background_opacity = "0.7";
	    foreground = "#${col.fg}";
	    background = "#${col.bg}";
	    color0  = "#${col.bg}";
	    color8  = "#${col.t2}";
	    color1  = "#${col.red}";
	    color9  = "#${col.red}";
	    color2  = "#${col.green}";
	    color10 = "#${col.green}";
	    color3  = "#${col.yellow}";
	    color11 = "#${col.orange}";
	    color4  = "#${col.blue}";
	    color12 = "#${col.blue}";
	    color5  = "#${col.purple}";
	    color13 = "#${col.purple}";
	    color6  = "#${col.aqua}";
	    color14 = "#${col.aqua}";
	    color7  = "#${col.t4}";
	    color15 = "#${col.fg}";
	    mark1_foreground = "#${col.bg}";
	    mark1_background = "#${col.blue}";
	    mark2_foreground = "#${col.bg}";
	    mark2_background = "#${col.aqua}";
	    mark3_foreground = "#${col.bg}";
	    mark3_background = "#${col.yellow}";

	    # color spam below :)
	    color16  = "#${col.t0}";
	    color17  = "#${col.blue}";
	    color18  = "#${col.blue}";
	    color19  = "#${col.blue}";
	    color20  = "#${col.blue}";
	    color21  = "#${col.blue}";
	    color22  = "#${col.green}";
	    color23  = "#${col.blue}";
	    color24  = "#${col.blue}";
	    color25  = "#${col.blue}";
	    color26  = "#${col.blue}";
	    color27  = "#${col.blue}";
	    color28  = "#${col.green}";
	    color29  = "#${col.green}";
	    color30  = "#${col.aqua}";
	    color31  = "#${col.blue}";
	    color32  = "#${col.blue}";
	    color33  = "#${col.blue}";
	    color34  = "#${col.green}";
	    color35  = "#${col.green}";
	    color36  = "#${col.aqua}";
	    color37  = "#${col.aqua}";
	    color38  = "#${col.blue}";
	    color39  = "#${col.blue}";
	    color40  = "#${col.green}";
	    color41  = "#${col.green}";
	    color42  = "#${col.green}";
	    color43  = "#${col.aqua}";
	    color44  = "#${col.aqua}";
	    color45  = "#${col.blue}";
	    color46  = "#${col.green}";
	    color47  = "#${col.green}";
	    color48  = "#${col.green}";
	    color49  = "#${col.aqua}";
	    color50  = "#${col.aqua}";
	    color51  = "#${col.aqua}";
	    color52  = "#${col.brown}";
	    color53  = "#${col.purple}";
	    color54  = "#${col.purple}";
	    color55  = "#${col.purple}";
	    color56  = "#${col.purple}";
	    color57  = "#${col.purple}";
	    color58  = "#${col.orange}";
	    color59  = "#${col.t2}";
	    color60  = "#${col.t2}";
	    color61  = "#${col.purple}";
	    color62  = "#${col.purple}";
	    color63  = "#${col.purple}";
	    color64  = "#${col.green}";
	    color65  = "#${col.aqua}";
	    color66  = "#${col.aqua}";
	    color67  = "#${col.blue}";
	    color68  = "#${col.blue}";
	    color69  = "#${col.blue}";
	    color70  = "#${col.green}";
	    color71  = "#${col.green}";
	    color72  = "#${col.green}";
	    color73  = "#${col.aqua}";
	    color74  = "#${col.aqua}";
	    color75  = "#${col.blue}";
	    color76  = "#${col.green}";
	    color77  = "#${col.green}";
	    color78  = "#${col.green}";
	    color79  = "#${col.aqua}";
	    color80  = "#${col.aqua}";
	    color81  = "#${col.blue}";
	    color82  = "#${col.green}";
	    color83  = "#${col.green}";
	    color84  = "#${col.green}";
	    color85  = "#${col.aqua}";
	    color86  = "#${col.aqua}";
	    color87  = "#${col.aqua}";
	    color88  = "#${col.brown}";
	    color89  = "#${col.brown}";
	    color90  = "#${col.purple}";
	    color91  = "#${col.purple}";
	    color92  = "#${col.purple}";
	    color93  = "#${col.purple}";
	    color94  = "#${col.orange}";
	    color95  = "#${col.orange}";
	    color96  = "#${col.purple}";
	    color97  = "#${col.purple}";
	    color98  = "#${col.purple}";
	    color99  = "#${col.purple}";
	    color100  = "#${col.yellow}";
	    color101  = "#${col.yellow}";
	    color102  = "#${col.t3}";
	    color103  = "#${col.t3}";
	    color104  = "#${col.purple}";
	    color105  = "#${col.purple}";
	    color106  = "#${col.green}";
	    color107  = "#${col.green}";
	    color108  = "#${col.aqua}";
	    color109  = "#${col.aqua}";
	    color110  = "#${col.blue}";
	    color111  = "#${col.blue}";
	    color112  = "#${col.green}";
	    color113  = "#${col.green}";
	    color114  = "#${col.aqua}";
	    color115  = "#${col.aqua}";
	    color116  = "#${col.aqua}";
	    color117  = "#${col.blue}";
	    color118  = "#${col.green}";
	    color119  = "#${col.green}";
	    color120  = "#${col.aqua}";
	    color121  = "#${col.aqua}";
	    color122  = "#${col.aqua}";
	    color123  = "#${col.blue}";
	    color124  = "#${col.brown}";
	    color125  = "#${col.brown}";
	    color126  = "#${col.red}";
	    color127  = "#${col.purple}";
	    color128  = "#${col.purple}";
	    color129  = "#${col.purple}";
	    color130  = "#${col.orange}";
	    color131  = "#${col.orange}";
	    color132  = "#${col.orange}";
	    color133  = "#${col.purple}";
	    color134  = "#${col.purple}";
	    color135  = "#${col.purple}";
	    color136  = "#${col.yellow}";
	    color137  = "#${col.yellow}";
	    color138  = "#${col.orange}";
	    color139  = "#${col.purple}";
	    color140  = "#${col.purple}";
	    color141  = "#${col.purple}";
	    color142  = "#${col.green}";
	    color143  = "#${col.green}";
	    color144  = "#${col.t4}";
	    color145  = "#${col.t4}";
	    color146  = "#${col.purple}";
	    color147  = "#${col.purple}";
	    color148  = "#${col.green}";
	    color149  = "#${col.green}";
	    color150  = "#${col.green}";
	    color151  = "#${col.aqua}";
	    color152  = "#${col.aqua}";
	    color153  = "#${col.blue}";
	    color154  = "#${col.green}";
	    color155  = "#${col.green}";
	    color156  = "#${col.green}";
	    color157  = "#${col.aqua}";
	    color158  = "#${col.aqua}";
	    color159  = "#${col.aqua}";
	    color160  = "#${col.red}";
	    color161  = "#${col.red}";
	    color162  = "#${col.red}";
	    color163  = "#${col.purple}";
	    color164  = "#${col.purple}";
	    color165  = "#${col.purple}";
	    color166  = "#${col.orange}";
	    color167  = "#${col.orange}";
	    color168  = "#${col.orange}";
	    color169  = "#${col.purple}";
	    color170  = "#${col.purple}";
	    color171  = "#${col.purple}";
	    color172  = "#${col.orange}";
	    color173  = "#${col.orange}";
	    color174  = "#${col.orange}";
	    color175  = "#${col.purple}";
	    color176  = "#${col.purple}";
	    color177  = "#${col.purple}";
	    color178  = "#${col.orange}";
	    color179  = "#${col.yellow}";
	    color180  = "#${col.yellow}";
	    color181  = "#${col.purple}";
	    color182  = "#${col.purple}";
	    color183  = "#${col.purple}";
	    color184  = "#${col.yellow}";
	    color185  = "#${col.yellow}";
	    color186  = "#${col.yellow}";
	    color187  = "#${col.yellow}";
	    color188  = "#${col.t5}";
	    color189  = "#${col.purple}";
	    color190  = "#${col.yellow}";
	    color191  = "#${col.yellow}";
	    color192  = "#${col.aqua}";
	    color193  = "#${col.aqua}";
	    color194  = "#${col.aqua}";
	    color195  = "#${col.blue}";
	    color196  = "#${col.red}";
	    color197  = "#${col.red}";
	    color198  = "#${col.red}";
	    color199  = "#${col.red}";
	    color200  = "#${col.purple}";
	    color201  = "#${col.purple}";
	    color202  = "#${col.orange}";
	    color203  = "#${col.orange}";
	    color204  = "#${col.orange}";
	    color205  = "#${col.purple}";
	    color206  = "#${col.purple}";
	    color207  = "#${col.purple}";
	    color208  = "#${col.orange}";
	    color209  = "#${col.orange}";
	    color210  = "#${col.orange}";
	    color211  = "#${col.purple}";
	    color212  = "#${col.purple}";
	    color213  = "#${col.purple}";
	    color214  = "#${col.yellow}";
	    color215  = "#${col.orange}";
	    color216  = "#${col.orange}";
	    color217  = "#${col.purple}";
	    color218  = "#${col.purple}";
	    color219  = "#${col.purple}";
	    color220  = "#${col.yellow}";
	    color221  = "#${col.yellow}";
	    color222  = "#${col.yellow}";
	    color223  = "#${col.yellow}";
	    color224  = "#${col.purple}";
	    color225  = "#${col.purple}";
	    color226  = "#${col.yellow}";
	    color227  = "#${col.yellow}";
	    color228  = "#${col.yellow}";
	    color229  = "#${col.t6}";
	    color230  = "#${col.t6}";
	    color231  = "#${col.fg}";
	    color232  = "#${col.t0}";
	    color233  = "#${col.t0}";
	    color234  = "#${col.t0}";
	    color235  = "#${col.t1}";
	    color236  = "#${col.t1}";
	    color237  = "#${col.t1}";
	    color238  = "#${col.t2}";
	    color239  = "#${col.t2}";
	    color240  = "#${col.t2}";
	    color241  = "#${col.t3}";
	    color242  = "#${col.t3}";
	    color243  = "#${col.t3}";
	    color244  = "#${col.t4}";
	    color245  = "#${col.t4}";
	    color246  = "#${col.t4}";
	    color247  = "#${col.t5}";
	    color248  = "#${col.t5}";
	    color249  = "#${col.t5}";
	    color250  = "#${col.t6}";
	    color251  = "#${col.t6}";
	    color252  = "#${col.t6}";
	    color253  = "#${col.t7}";
	    color254  = "#${col.t7}";
	    color255  = "#${col.t7}";
	};
    };
}
